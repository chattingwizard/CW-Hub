import{r as d,s as P,j as e,f as v,U as ue,m as pe,T as he}from"./index-BP5YFlyp.js";import{D as fe}from"./dollar-sign-7w4C7po7.js";import{T as ge}from"./target-XehzJzPL.js";import{T as be}from"./trending-up-DoO1nyp9.js";import{S as _e}from"./search-QQZqewHu.js";import{a as ae,C as je}from"./chevron-up-RJvm1lta.js";import{U as ve}from"./user-plus-CeT8H-nM.js";import{A as ye}from"./arrow-up-down-FJl0TFsn.js";const X=4,O=["Team Danilyn","Team Huckle","Team Ezekiel"],z={"Team Danilyn":{bg:"bg-blue-500/15",text:"text-blue-400",border:"border-blue-500/30"},"Team Huckle":{bg:"bg-orange-500/15",text:"text-orange-400",border:"border-orange-500/30"},"Team Ezekiel":{bg:"bg-purple-500/15",text:"text-purple-400",border:"border-purple-500/30"}};function V(s){return s.toLowerCase().trim().replace(/\s+/g," ")}function ee(s){if(!s)return"";const i=s.replace(/^team\s+/i,"").trim().toLowerCase();for(const m of O)if(m.toLowerCase().endsWith(i))return m;return s}function we(s,i){const m=i.get(s);if(m!==void 0)return m||null;const n=s.split(" "),_=n[0],f=n[n.length-1];for(const[p,y]of i){if(p.includes(s)||s.includes(p))return y||null;const u=p.split(" ");if(u[0]===_&&u[u.length-1]===f)return y||null}return null}function A(s){return O.includes(s)}function te(s){try{localStorage.setItem("cw_team_overrides",JSON.stringify(Object.fromEntries(s)))}catch{}}function H(s,i){switch(s){case"fan_cvr":return i>=12?"text-success":i>=8?"text-warning":"text-danger";case"golden_ratio":return i>=4?"text-success":i>=2.5?"text-warning":"text-danger";case"unlock_rate":return i>=40?"text-success":i>=25?"text-warning":"text-danger";case"sales_per_hour":return i>=80?"text-success":i>=50?"text-warning":"text-danger";case"messages_per_hour":return i>=100?"text-success":i>=60?"text-warning":"text-danger";default:return"text-white"}}function Ne(){const s=new Date,i=s.getUTCDay(),m=i===0?6:i-1;return new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()-m)).toISOString().slice(0,10)}function Se(s){const i=new Map;for(const n of s){const _=n.employee_name.toLowerCase().trim();i.has(_)||i.set(_,[]),i.get(_).push(n)}const m=[];for(const[,n]of i){const _=n[0],f=n.reduce((o,c)=>o+c.clocked_hours,0),p=n.reduce((o,c)=>o+c.sales,0),y=n.reduce((o,c)=>o+c.fans_chatted,0),u=n.reduce((o,c)=>o+c.messages_sent,0),k=n.reduce((o,c)=>o+c.fans_who_spent,0),h=n.length;m.push({..._,date:`${n[n.length-1].date}`,sales:p,ppv_sales:n.reduce((o,c)=>o+c.ppv_sales,0),tips:n.reduce((o,c)=>o+c.tips,0),dm_sales:n.reduce((o,c)=>o+c.dm_sales,0),mass_msg_sales:n.reduce((o,c)=>o+c.mass_msg_sales,0),messages_sent:n.reduce((o,c)=>o+c.messages_sent,0),ppvs_sent:n.reduce((o,c)=>o+c.ppvs_sent,0),ppvs_unlocked:n.reduce((o,c)=>o+c.ppvs_unlocked,0),character_count:n.reduce((o,c)=>o+c.character_count,0),golden_ratio:n.reduce((o,c)=>o+c.golden_ratio,0)/h,unlock_rate:n.reduce((o,c)=>o+c.unlock_rate,0)/h,fan_cvr:n.reduce((o,c)=>o+c.fan_cvr,0)/h,fans_chatted:y,fans_who_spent:k,avg_earnings_per_spender:k>0?p/k:0,clocked_hours:f,sales_per_hour:f>0?p/f:0,messages_per_hour:f>0?u/f:0,fans_per_hour:f>0?y/f:0,response_time_clocked:n[n.length-1].response_time_clocked,creators:[...new Set(n.map(o=>o.creators).filter(Boolean))].join(", "),team:_.team})}return m}function He(){const[s,i]=d.useState([]),[m,n]=d.useState(!0),[_,f]=d.useState([]),[p,y]=d.useState(""),[u,k]=d.useState("week"),[h,o]=d.useState(""),[c,re]=d.useState("all"),[g,ne]=d.useState("sales"),[b,R]=d.useState("desc"),[oe,le]=d.useState(null),[M,ce]=d.useState(new Map),[q,U]=d.useState(new Map),[E,ie]=d.useState(!1),[de,B]=d.useState(null),[K,W]=d.useState(null);d.useEffect(()=>{(async()=>{const{data:t,error:r}=await P.from("chatters").select("full_name, team_name").eq("status","Active").eq("airtable_role","Chatter");if(r){console.warn("[ChatterPerf] chatters table query failed:",r.message);return}if(t){const a=new Map;let l=0;for(const x of t)a.set(V(x.full_name),x.team_name??""),x.team_name&&l++;console.log(`[ChatterPerf] Loaded ${a.size} chatters from DB (${l} with team_name)`),ce(a)}})()},[]),d.useEffect(()=>{try{const t=localStorage.getItem("cw_team_overrides");if(t){const r=JSON.parse(t);U(new Map(Object.entries(r)))}}catch{}(async()=>{const{data:t}=await P.from("chatter_team_overrides").select("employee_name, team");t&&t.length>0&&U(r=>{const a=new Map(r);for(const l of t)a.set(l.employee_name,l.team);return te(a),a})})()},[]);const G=d.useCallback(async()=>{const{data:t}=await P.from("chatter_daily_stats").select("date").order("date",{ascending:!1});if(t){const r=[...new Set(t.map(a=>a.date))];f(r),r.length>0&&!p&&y(r[0])}},[p]),J=d.useCallback(t=>{const r=V(t.employee_name),a=q.get(r);if(a==="_dismissed")return"_dismissed";if(a&&A(a))return a;if(M.size>0){const x=we(r,M);if(x){const $=ee(x);if(A($))return $}}const l=ee(t.team);return A(l)?l:""},[q,M]),Y=d.useCallback(async()=>{if(!p&&u==="day")return;n(!0);let t=P.from("chatter_daily_stats").select("*").order("sales",{ascending:!1});if(u==="week"){const l=Ne(),x=new Date(new Date(l+"T00:00:00Z").getTime()+7*864e5).toISOString().slice(0,10);t=t.gte("date",l).lt("date",x)}else t=t.eq("date",p);const{data:r,error:a}=await t;if(!a&&r){const l=r;console.log(`[ChatterPerf] ${u==="week"?"week":p}: ${l.length} rows, ${new Set(l.map(x=>x.employee_name)).size} unique employees`),i(u==="week"?Se(l):l)}n(!1)},[p,u]);d.useEffect(()=>{G()},[G]),d.useEffect(()=>{Y()},[Y]);const{assigned:S,lost:T}=d.useMemo(()=>{const t=[],r=[];for(const a of s){const l=J(a);l!=="_dismissed"&&(A(l)?t.push({...a,team:l}):r.push(a))}return{assigned:t,lost:r}},[s,J]),I=async(t,r)=>{const a=V(t);W(a),U(l=>{const x=new Map(l).set(a,r);return te(x),x}),B(null),P.from("chatter_team_overrides").upsert({employee_name:a,display_name:t,team:r,source:"manual",updated_at:new Date().toISOString()},{onConflict:"employee_name"}).then(({error:l})=>{l&&console.warn("[ChatterPerf] Supabase override save skipped:",l.message)}),W(null)},me=d.useMemo(()=>{const t=new Set(S.map(r=>r.team).filter(Boolean));return["all",...Array.from(t).sort()]},[S]),Z=d.useMemo(()=>{let t=S;if(c!=="all"&&(t=t.filter(a=>a.team===c)),h){const a=h.toLowerCase();t=t.filter(l=>l.employee_name.toLowerCase().includes(a)||(l.creators||"").toLowerCase().includes(a))}const r=u==="week"?1:X;return t=t.filter(a=>a.clocked_hours>=r),t=[...t].sort((a,l)=>{if(g==="employee_name"){const D=a.employee_name.toLowerCase(),F=l.employee_name.toLowerCase();return b==="asc"?D.localeCompare(F):F.localeCompare(D)}if(g==="response_time_clocked"){const D=se(a.response_time_clocked),F=se(l.response_time_clocked);return b==="asc"?D-F:F-D}const x=a[g]??0,$=l[g]??0;return b==="asc"?x-$:$-x}),t},[S,c,h,g,b]),Q=u==="week"?1:X,xe=d.useMemo(()=>{const t={};for(const r of S.filter(a=>a.clocked_hours>=Q))r.team&&(t[r.team]||(t[r.team]={sales:0,chatters:0,fans:0,hours:0,salesHrValues:[]}),t[r.team].sales+=r.sales,t[r.team].chatters+=1,t[r.team].fans+=r.fans_chatted,t[r.team].hours+=r.clocked_hours,r.sales_per_hour>0&&t[r.team].salesHrValues.push(r.sales_per_hour));return Object.entries(t).map(([r,a])=>({team:r,sales:a.sales,chatters:a.chatters,fans:a.fans,hours:a.hours,avgSalesHr:a.salesHrValues.length?a.salesHrValues.reduce((l,x)=>l+x,0)/a.salesHrValues.length:0})).sort((r,a)=>a.sales-r.sales)},[S]),C=d.useMemo(()=>{const t=S.filter(r=>r.clocked_hours>=Q);return{totalSales:t.reduce((r,a)=>r+a.sales,0),totalChatters:t.length,totalFans:t.reduce((r,a)=>r+a.fans_chatted,0),avgCVR:t.length>0?t.reduce((r,a)=>r+a.fan_cvr,0)/t.length:0,avgSalesHr:t.length>0?t.reduce((r,a)=>r+a.sales_per_hour,0)/t.length:0}},[S]),w=t=>{g===t?R(b==="asc"?"desc":"asc"):(ne(t),R("desc"))};return e.jsxs("div",{className:"min-h-screen bg-surface-0 p-4 lg:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-extrabold text-text-primary",children:"Chatter Performance"}),e.jsxs("p",{className:"text-sm text-text-secondary mt-0.5",children:[u==="week"?"Weekly aggregated KPIs":"Daily KPIs"," from Inflow Employee Reports"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex bg-surface-2 border border-border rounded-lg p-0.5",children:[e.jsx("button",{onClick:()=>k("week"),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${u==="week"?"bg-cw text-white":"text-text-muted hover:text-white"}`,children:"Week"}),e.jsx("button",{onClick:()=>k("day"),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${u==="day"?"bg-cw text-white":"text-text-muted hover:text-white"}`,children:"Day"})]}),u==="day"&&e.jsx("select",{value:p,onChange:t=>y(t.target.value),className:"bg-surface-2 border border-border text-white text-sm rounded-lg px-3 py-2 focus:border-cw focus:outline-none",children:_.map(t=>e.jsx("option",{value:t,children:new Date(t+"T00:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},t))})]})]}),!m&&s.length>0&&e.jsxs("div",{className:"flex items-center gap-3 mb-4 px-3 py-2 bg-surface-1 border border-border rounded-lg text-xs text-text-muted",children:[e.jsxs("span",{children:[s.length," employees in DB for this date"]}),e.jsx("span",{className:"text-border",children:"|"}),e.jsxs("span",{className:"text-cw",children:[S.length," assigned to teams"]}),T.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-border",children:"|"}),e.jsxs("span",{className:"text-amber-400",children:[T.length," unassigned"]})]}),M.size>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-border",children:"|"}),e.jsxs("span",{children:[M.size," chatters in roster"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 mb-6",children:[e.jsx(L,{icon:fe,label:"Total Sales",value:v(C.totalSales),color:"text-success"}),e.jsx(L,{icon:ue,label:"Active Chatters",value:String(C.totalChatters),color:"text-cw"}),e.jsx(L,{icon:pe,label:"Total Fans",value:String(C.totalFans),color:"text-blue-400"}),e.jsx(L,{icon:ge,label:"Avg CVR",value:`${C.avgCVR.toFixed(1)}%`,color:C.avgCVR>=10?"text-success":"text-warning"}),e.jsx(L,{icon:be,label:"Avg $/hr",value:v(C.avgSalesHr),color:C.avgSalesHr>=70?"text-success":"text-warning"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 mb-6",children:xe.map(t=>{const r=z[t.team]??{bg:"bg-surface-2",text:"text-white",border:"border-border"};return e.jsxs("div",{className:`${r.bg} border ${r.border} rounded-xl p-4`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-sm font-semibold ${r.text}`,children:t.team}),e.jsxs("span",{className:"text-xs text-text-muted",children:[t.chatters," chatters"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-white",children:v(t.sales)}),e.jsxs("p",{className:"text-xs text-text-secondary",children:[t.fans," fans chatted"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-sm font-medium ${t.avgSalesHr>=70?"text-success":"text-warning"}`,children:[v(t.avgSalesHr),"/hr"]}),e.jsxs("p",{className:"text-xs text-text-muted",children:[t.hours.toFixed(0),"h total"]})]})]})]},t.team)})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-xs",children:[e.jsx(_e,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted"}),e.jsx("input",{type:"text",placeholder:"Search chatter or model...",value:h,onChange:t=>o(t.target.value),className:"w-full bg-surface-2 border border-border text-white text-sm rounded-lg pl-9 pr-3 py-2 focus:border-cw focus:outline-none"})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:me.map(t=>{const r=c===t,a=t!=="all"?z[t]:null;return e.jsx("button",{onClick:()=>re(t),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors border ${r?a?`${a.bg} ${a.text} ${a.border}`:"bg-cw/15 text-cw border-cw/30":"bg-surface-2 text-text-secondary border-border hover:border-text-muted"}`,children:t==="all"?"All Teams":t.replace("Team ","")},t)})}),e.jsxs("span",{className:"text-xs text-text-muted self-center ml-auto",children:[Z.length," chatters"]})]}),m?e.jsx("div",{className:"flex items-center justify-center h-40",children:e.jsx("div",{className:"text-text-secondary text-sm",children:"Loading..."})}):e.jsx("div",{className:"bg-surface-1 rounded-xl border border-border overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[900px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border",children:[e.jsx(N,{field:"employee_name",label:"Chatter",onSort:w,current:g,dir:b,className:"w-[200px]"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs text-text-muted font-medium",children:"Team"}),e.jsx(N,{field:"sales",label:"Sales",onSort:w,current:g,dir:b}),e.jsx(N,{field:"fan_cvr",label:"CVR",onSort:w,current:g,dir:b}),e.jsx(N,{field:"golden_ratio",label:"G.Ratio",onSort:w,current:g,dir:b}),e.jsx(N,{field:"unlock_rate",label:"Unlock%",onSort:w,current:g,dir:b}),e.jsx(N,{field:"sales_per_hour",label:"$/hr",onSort:w,current:g,dir:b}),e.jsx(N,{field:"messages_per_hour",label:"Msg/hr",onSort:w,current:g,dir:b}),e.jsx(N,{field:"fans_chatted",label:"Fans",onSort:w,current:g,dir:b}),e.jsx(N,{field:"clocked_hours",label:"Hours",onSort:w,current:g,dir:b}),e.jsx(N,{field:"response_time_clocked",label:"Reply",onSort:w,current:g,dir:b})]})}),e.jsx("tbody",{className:"divide-y divide-border/50",children:Z.map((t,r)=>{const a=oe===t.employee_name;return e.jsx(ke,{stat:t,rank:r+1,isExpanded:a,onToggle:()=>le(a?null:t.employee_name),editingTeam:de,onEditTeam:B,onSaveTeam:I,saving:K===V(t.employee_name)},`${t.date}-${t.employee_name}`)})})]})}),!m&&T.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("button",{onClick:()=>ie(!E),className:"flex items-center gap-2 w-full text-left px-4 py-3 bg-amber-950/30 border border-amber-800/40 rounded-xl hover:bg-amber-950/40 transition-colors",children:[e.jsx(he,{size:16,className:"text-amber-400 shrink-0"}),e.jsxs("span",{className:"text-sm font-medium text-amber-300",children:[T.length," unassigned chatter",T.length!==1?"s":""]}),e.jsx("span",{className:"text-xs text-amber-400/60 ml-1",children:"— not counted in stats. Assign a team to include them."}),e.jsx(ae,{size:14,className:`ml-auto text-amber-400/60 transition-transform ${E?"rotate-180":""}`})]}),E&&e.jsx("div",{className:"mt-2 bg-surface-1 border border-amber-800/30 rounded-xl overflow-hidden",children:e.jsx("div",{className:"divide-y divide-border/50",children:T.map(t=>{const r=V(t.employee_name),a=K===r;return e.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-white font-medium truncate",children:t.employee_name}),e.jsxs("p",{className:"text-[11px] text-text-muted",children:[v(t.sales)," sales · ",t.clocked_hours.toFixed(1),"h · CSV group: ",t.team||"—"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[O.map(l=>{const x=z[l];return e.jsxs("button",{disabled:a,onClick:$=>{$.stopPropagation(),I(t.employee_name,l)},className:`px-2.5 py-1 rounded-lg text-[11px] font-medium transition-colors border ${x.bg} ${x.text} ${x.border} hover:opacity-80 disabled:opacity-40`,children:[e.jsx(ve,{size:10,className:"inline mr-1"}),l.replace("Team ","")]},l)}),e.jsx("button",{disabled:a,onClick:l=>{l.stopPropagation(),I(t.employee_name,"_dismissed")},className:"px-2 py-1 rounded-lg text-[11px] font-medium text-text-muted border border-border hover:text-red-400 hover:border-red-800/50 transition-colors disabled:opacity-40",title:"Dismiss — not a chatter",children:"✕"})]})]},`lost-${t.employee_name}`)})})})]})]})}function L({icon:s,label:i,value:m,color:n}){return e.jsxs("div",{className:"bg-surface-1 border border-border rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(s,{size:14,className:n}),e.jsx("span",{className:"text-xs text-text-muted",children:i})]}),e.jsx("p",{className:`text-lg font-bold ${n}`,children:m})]})}function N({field:s,label:i,onSort:m,current:n,dir:_,className:f=""}){const p=n===s;return e.jsx("th",{onClick:()=>m(s),className:`px-3 py-3 text-left text-xs font-medium cursor-pointer hover:text-white transition-colors select-none ${p?"text-cw":"text-text-muted"} ${f}`,children:e.jsxs("div",{className:"flex items-center gap-1",children:[i,p?_==="desc"?e.jsx(ae,{size:12}):e.jsx(je,{size:12}):e.jsx(ye,{size:10,className:"opacity-40"})]})})}function ke({stat:s,rank:i,isExpanded:m,onToggle:n,editingTeam:_,onEditTeam:f,onSaveTeam:p,saving:y}){const u=z[s.team]??{bg:"bg-surface-2",text:"text-text-muted",border:"border-border"},k=_===s.employee_name;return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{onClick:n,className:"hover:bg-surface-2/50 cursor-pointer transition-colors",children:[e.jsx("td",{className:"px-3 py-2.5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-text-muted w-5 text-right",children:i}),e.jsx("p",{className:"text-sm text-white font-medium",children:s.employee_name})]})}),e.jsx("td",{className:"px-3 py-2.5",onClick:h=>h.stopPropagation(),children:k?e.jsxs("div",{className:"flex gap-1",children:[O.map(h=>{const o=z[h];return e.jsx("button",{disabled:y,onClick:c=>{c.stopPropagation(),p(s.employee_name,h)},className:`px-2 py-0.5 rounded-full text-[10px] font-medium border transition-colors ${s.team===h?`${o.bg} ${o.text} ${o.border} ring-1 ring-white/30`:`${o.bg} ${o.text} ${o.border} opacity-50 hover:opacity-100`} disabled:opacity-30`,children:h.replace("Team ","")},h)}),e.jsx("button",{onClick:h=>{h.stopPropagation(),f(null)},className:"text-[10px] text-text-muted hover:text-text-primary ml-1",children:"✕"})]}):e.jsx("button",{onClick:h=>{h.stopPropagation(),f(s.employee_name)},className:`text-xs px-2 py-0.5 rounded-full ${u.bg} ${u.text} border ${u.border} hover:ring-1 hover:ring-white/20 transition-all`,title:"Click to change team",children:s.team?s.team.replace("Team ",""):"-"})}),e.jsx("td",{className:"px-3 py-2.5 text-sm font-medium text-white",children:v(s.sales)}),e.jsxs("td",{className:`px-3 py-2.5 text-sm font-medium ${H("fan_cvr",s.fan_cvr)}`,children:[s.fan_cvr.toFixed(1),"%"]}),e.jsxs("td",{className:`px-3 py-2.5 text-sm font-medium ${H("golden_ratio",s.golden_ratio)}`,children:[s.golden_ratio.toFixed(1),"%"]}),e.jsxs("td",{className:`px-3 py-2.5 text-sm font-medium ${H("unlock_rate",s.unlock_rate)}`,children:[s.unlock_rate.toFixed(0),"%"]}),e.jsx("td",{className:`px-3 py-2.5 text-sm font-medium ${H("sales_per_hour",s.sales_per_hour)}`,children:v(s.sales_per_hour)}),e.jsx("td",{className:`px-3 py-2.5 text-sm font-medium ${H("messages_per_hour",s.messages_per_hour)}`,children:Math.round(s.messages_per_hour)}),e.jsx("td",{className:"px-3 py-2.5 text-sm text-text-secondary",children:s.fans_chatted}),e.jsxs("td",{className:"px-3 py-2.5 text-sm text-text-secondary",children:[s.clocked_hours.toFixed(1),"h"]}),e.jsx("td",{className:"px-3 py-2.5 text-sm text-text-secondary",children:s.response_time_clocked||"-"})]}),m&&e.jsx("tr",{className:"bg-surface-2/30",children:e.jsx("td",{colSpan:11,className:"px-6 py-4",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[e.jsx(j,{label:"PPV Sales",value:v(s.ppv_sales)}),e.jsx(j,{label:"Tips",value:v(s.tips)}),e.jsx(j,{label:"DM Sales",value:v(s.dm_sales)}),e.jsx(j,{label:"PPVs Sent",value:String(s.ppvs_sent)}),e.jsx(j,{label:"PPVs Unlocked",value:String(s.ppvs_unlocked)}),e.jsx(j,{label:"Messages Sent",value:String(s.messages_sent)}),e.jsx(j,{label:"Fans Who Spent",value:`${s.fans_who_spent} of ${s.fans_chatted}`}),e.jsx(j,{label:"Avg $/Spender",value:v(s.avg_earnings_per_spender)}),e.jsx(j,{label:"Fans/hr",value:s.fans_per_hour.toFixed(1)}),e.jsx(j,{label:"Characters",value:s.character_count.toLocaleString()}),e.jsx(j,{label:"Mass Msg $",value:v(s.mass_msg_sales)}),e.jsx(j,{label:"Models",value:s.creators||"-",wide:!0})]})})})]})}function j({label:s,value:i,wide:m}){return e.jsxs("div",{className:m?"col-span-1 sm:col-span-2 md:col-span-3 lg:col-span-4":"",children:[e.jsx("p",{className:"text-[11px] text-text-muted mb-0.5",children:s}),e.jsx("p",{className:"text-sm text-white",children:i})]})}function se(s){if(!s||s==="-")return 999999;let i=0;const m=s.match(/(\d+)m/),n=s.match(/(\d+)s/);return m&&(i+=parseInt(m[1])*60),n&&(i+=parseInt(n[1])),i||999999}export{He as default};
